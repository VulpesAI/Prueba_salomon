runConfig:
  cpu: 1
  memoryMiB: 512
  concurrency: 80
  minInstances: 0
  maxInstances: 10

scripts:
  buildCommand: npm ci && npm run build
  runCommand: node dist/main.js

env:
  - variable: PORT
    value: "8080"
    availability:
      - RUNTIME

  - variable: CORE_API_PROFILE
    value: "minimal"
    availability:
      - RUNTIME

  - variable: ENABLE_FIREBASE
    value: "false"
    availability:
      - RUNTIME

  # Provide the following credentials only when ENABLE_FIREBASE=true
  - variable: JWT_SECRET
    value: "<injected-via-secrets:JWT_SECRET>"
    availability:
      - RUNTIME

  - variable: FIREBASE_PROJECT_ID
    value: "<injected-via-secrets:FIREBASE_PROJECT_ID>"
    availability:
      - RUNTIME

  - variable: FIREBASE_CLIENT_EMAIL
    value: "<injected-via-secrets:FIREBASE_CLIENT_EMAIL>"
    availability:
      - RUNTIME

  - variable: FIREBASE_PRIVATE_KEY
    value: "<injected-via-secrets:FIREBASE_PRIVATE_KEY>"
    availability:
      - RUNTIME

  - variable: ALLOWED_ORIGINS
    value: "http://localhost:3000,https://prueba-salomon.vercel.app"
    availability:
      - RUNTIME

  - variable: FRONTEND_URL
    value: "https://prueba-salomon.vercel.app"
    availability:
      - RUNTIME
